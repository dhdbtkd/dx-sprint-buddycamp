<script>
	import lottie from 'lottie-web';
	//swiper
	import Swiper from 'swiper';
	import { Navigation, Pagination } from 'swiper/modules';
	import 'swiper/css';
	import 'swiper/css/navigation';
	import 'swiper/css/pagination';
	import { onMount } from 'svelte';
	let btnClass = 'rounded-full text-white bg-blue-500 px-8 text-center py-1 my-12 shadow-sm';
    let lottieContainer = [];
	let device;
	const detectDevice=()=>{
		const userAgent = navigator.userAgent;
		return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(userAgent) ? 'Mobile' : 'Desktop';
	}
    onMount(()=>{
        lottie.loadAnimation({
            container : lottieContainer[0],
            path : "https://lottie.host/378439b1-1ae7-428e-ba95-54fdb64484bc/QaTtVhranK.json"
        })
        lottie.loadAnimation({
            container : lottieContainer[1],
            path : "https://lottie.host/dbe2f614-1f09-4122-9f41-67fa236c3bb0/Py72FKX289.json"
        });
		const swiper = new Swiper('.swiper', {
			modules: [Navigation, Pagination],
			direction: "vertical",
			mousewheel: {
				releaseOnEdges: true,
			},
			mousewheelControl: true,
			parallax: true,
			speed: 600,
		});
		device = detectDevice();
		console.log("ğŸš€ ~ file: +page.svelte:37 ~ onMount ~ device:", device)
    })
	let datas = {
		alert : [
			"ì†Œì¤‘í•œ ì‹œê°„ë‚´ì„œ ë°©ë¬¸í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤",
			"í˜„ì¬ ë°ìŠ¤í¬í†±ì—ì„œ ì ‘ì†í•˜ì‹  ê²ƒìœ¼ë¡œ í™•ì¸ë©ë‹ˆë‹¤",
			"ëª¨ë°”ì¼ í™˜ê²½ì—ì„œë§Œ UIê°€ ì˜¬ë°”ë¥´ê²Œ ë³´ì´ë„ë¡ ê°œë°œëìŠµë‹ˆë‹¤",
			"ê³„ì† ì´ìš© ê°€ëŠ¥í•˜ì§€ë§Œ UIê°€ ì˜³ì§€ ì•Šìœ¼ë¯€ë¡œ ì–‘í•´ë¶€íƒë“œë¦½ë‹ˆë‹¤"
		],
		page3 : ["ì£¼ë³€ì—ì„œ ê°™ì´ ì°½ì—… í”„ë¡œì íŠ¸ë¥¼ í•  íŒ€ì›ì„ êµ¬í•˜ê³  ì‹¶ì€ ê¸°íšì ë° ê°œë°œì",
		"IT í˜„ì—…ìë¥¼ ëª©í‘œë¡œ í•˜ëŠ” ì˜ˆë¹„ ê°œë°œì",
		"ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ë¡œ ì—­ëŸ‰ì„ ìŒ“ê³  ì‹¶ì€ IT ì¢…ì‚¬ì",
		"ê°œë°œ ìŠ¤í„°ë””ê°€ í•˜ê³  ì‹¶ì€ ëŒ€í•™ìƒ, ì§ì¥ì¸",
		"ì°½ì—… ê´€ë ¨ ë¶€íŠ¸ìº í”„ë‚˜ ê³µëª¨ì „ ì •ë³´ê°€ í•„ìš”í•œ ë¶„"
	]
	}
	
</script>
{#if device != "Mobile"}
<div class="flex flex-col justify-center items-center absolute z-30 h-full w-full bg-[#000000dd] text-white text-lg">
	<div class="text-4xl my-10 font-bold">
		BUDDYCAMP
	</div>
	{#each datas.alert as alert, index(index)}
		<p class="my-3">
			{alert}
		</p>
	{/each}
	<div on:click={()=>{device = "Mobile"}} class="bg-orange-400 px-32 py-2 mt-20 rounded text-2xl font-bold hover:cursor-pointer animate-bounce hover:bg-orange-500 hover:scale-125 duration-300">
		Continue
	</div>
</div>
{/if}
<div class="swiper mt-12 mb-20">
	<div class="swiper-wrapper">
		<div class="swiper-slide flex flex-col items-center justify-center h-full px-2">
			<div class="text-center py-8">
				<p class="text-xl font-bold">ì§€ì—­, ì†Œê°œ, í¬ì§€ì…˜ë§Œ ì…ë ¥í•˜ë©´ ë!</p>
				<p>ë§Œë‚˜ì„œ ê´€ì‹¬ì‚¬ë¥¼ ì´ì•¼ê¸°í•˜ê³ </p>
				<p>í”„ë¡œì íŠ¸ë¥¼ ê¾¸ë ¤ë³´ì„¸ìš”</p>
			</div>
			<dotlottie-player autoplay loop mode="normal" src="/main_page1.lottie" class="w-full px-12" />
			<div class="text-center">
				<a class={btnClass} href="/party">ëª¨ì„ êµ¬ê²½í•˜ê¸°</a>
			</div>
		</div>
		<div class="swiper-slide flex flex-col items-center justify-center my-8 h-full px-2">
			<div class="text-center py-5">
				<p>í”„ë¡œí•„ì„ ì˜¬ë¦¬ê³ </p>
				<p>ë§ˆìŒì— ë“œëŠ” ë²„ë””ë“¤ê³¼</p>
				<p class="text-2xl font-bold">íŒ€ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”!</p>
			</div>
			<div class="w-2/3 my-8 mx-auto" bind:this={lottieContainer[1]}/>
			<div class="text-center"><a class={btnClass} href="/search">ë²„ë”” êµ¬ê²½í•˜ê¸°</a></div>
		</div>
		<div class="swiper-slide flex flex-col items-center justify-center my-8 h-full px-2">
			<dotlottie-player autoplay loop mode="normal" src="/main_page3.lottie" class="w-full px-12" />
			<div class="py-10">
				<p class="font-bold">ì´ëŸ° ë¶„ì´ë¼ë©´ ë²„ë””ìº í”„ë¥¼ ì˜ì°¾ì•„ì˜¤ì…¨ì–´ìš”</p>
				<div class="text-sm">
					{#each datas.page3 as text, index}
						<div class="my-2">
							<span class="mr-2">
								âœ…
							</span>
							{text}
						</div>
					{/each}
				</div>
	
			</div>
		</div>
	</div>
</div>
